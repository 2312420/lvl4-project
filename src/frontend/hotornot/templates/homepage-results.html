{% load static %}
<link rel="stylesheet" type="text/css" href="{% static '/css/homepage.css' %}">
<link rel="stylesheet" type="text/css" href="{% static '/css/results.css' %}">

{% for company in companies %}
    {% if company.verdict != "NO-DATA" %}
        <a href="{% url 'company_page' company.stock_code %}" style="text-decoration: black">
        <div class="card" style="width: 490px">

            {% if company.verdict == "NOT" %}
                <div class="card-header card-not">
                    <span style="color: white; padding-left: 5px; text-overflow: clip;">{{ company.short_hand }}</span>
                </div>

                <div class="card-contents">
                 <img style="float: left; padding-right: 10px" width="90px" src="{% static 'imgs/Not.png' %}">
                    <div style="margin-top: 30px">
                        <progress class="progress-not" data-label="NOT" max="10" value={{ company.not_change }}> </progress>
                    </div>
                    <div>
                        <p class="tags not" onclick="return tag_select(this.textContent)" >{{ company.industry }}</p>
                        <p class="tags not" onclick="return tag_select(this.textContent)">{{ company.sector }}</p>
                    </div>
                </div>

            {% elif company.verdict == 'HOT' %}
                <div class="card-header card-hot">
                    <span style="color: white; padding-left: 5px">{{ company.short_hand }}</span>
                </div>

                <div class="card-contents">

                    <img style="float: left; padding-right: 10px" width="90px" src="{% static 'imgs/Hot.png' %}">
                    <div style="margin-top: 30px">
                        <progress class="progress-hot" data-label="HOT" max="10" value={{ company.change }}></progress>
                    </div>
                    <div>
                        <p class="tags hot" onclick="return tag_select(this.textContent)" >{{ company.industry }}</p>
                        <p class="tags hot" onclick="return tag_select(this.textContent)">{{ company.sector }}</p>
                    </div>
                </div>

            {% else %}
                <div class="card-header card-hold" style="background-color: darkgray">
                    <span style="color: white; padding-left: 5px">{{ company.short_hand }}</span>
                </div>

                <div class="card-contents">
                    <img style="float: left; padding-right: 10px" width="90px" src="{% static 'imgs/None.png' %}">
                    <div style="margin-top: 30px">
                        <progress class="progress-none" data-label="HOLD" max="10" value=10></progress>
                    </div>
                    <div>
                        <p class="tags hold" onclick="return tag_select(this.textContent)" >{{ company.industry }}</p>
                        <p class="tags hold" onclick="return tag_select(this.textContent)">{{ company.sector }}</p>
                    </div>
                </div>

            {%  endif %}
        </div>
        </a>
    {% endif %}
{% endfor %}



<script>
    var search_bar = document.getElementById("user-input")
    function tag_select(tag_name) {
        console.log(tag_name)
        search_bar.value = tag_name
        sendRequest()
        return false;
    }

</script>